### Frontend 
  - 1 - Подсветка Диапазона кип при его выборе из меню 4 кнопки во втором блоке. Сейчас непонятно есть ли множественный выбор и непонятно какая из кнопок была выбрана - проверяем мультивыбор и окрашиваем кнопку немного в серый при вее статусе "выбрано"
  - 2 Во втором же блоке "Средний КИП - N%" красим в цвета: 0-50% красным, 50-75 синим, 75-100 зеленым
 - 3 - мультиселект, вот тз: 
 # Полная реализация мульти-селект фильтра                                               
                                                                                        
  1. CSS

  .filter-group {
      position: relative;
  }

  .filter-label {
      font-size: 11px;
      color: rgba(255,255,255,0.9);
      margin-bottom: 4px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
  }

  .filter-dropdown {
      position: relative;
  }

  .filter-btn {
      background: rgba(255,255,255,0.15);
      border: none;
      border-radius: 6px;
      padding: 8px 12px;
      color: white;
      font-size: 13px;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 8px;
      min-width: 180px;
      justify-content: space-between;
  }

  .filter-btn:hover {
      background: rgba(255,255,255,0.25);
  }

  .filter-btn .count {
      background: #4299e1;
      padding: 2px 6px;
      border-radius: 10px;
      font-size: 11px;
  }

  .filter-popup {
      position: absolute;
      top: 100%;
      left: 0;
      background: white;
      border-radius: 8px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.3);
      min-width: 280px;
      max-height: 350px;
      z-index: 2000;
      display: none;
      overflow: hidden;
  }

  .filter-popup.active {
      display: block;
  }

  .filter-search {
      padding: 10px;
      border-bottom: 1px solid #e2e8f0;
  }

  .filter-search input {
      width: 100%;
      padding: 8px 10px;
      border: 1px solid #e2e8f0;
      border-radius: 4px;
      font-size: 13px;
  }

  .filter-options {
      max-height: 250px;
      overflow-y: auto;
  }

  .filter-option {
      display: flex;
      align-items: center;
      padding: 8px 12px;
      cursor: pointer;
      font-size: 13px;
      color: #2d3748;
  }

  .filter-option:hover {
      background: #f7fafc;
  }

  .filter-option input {
      margin-right: 10px;
  }

  .filter-option.hidden {
      display: none;
  }

  .filter-actions {
      padding: 10px;
      border-top: 1px solid #e2e8f0;
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
  }

  .filter-actions button {
      flex: 1;
      padding: 6px 10px;
      border: none;
      border-radius: 4px;
      font-size: 12px;
      cursor: pointer;
      min-width: 70px;
  }

  .filter-actions .apply-btn {
      background: #4299e1;
      color: white;
  }

  .filter-actions .clear-btn {
      background: #e2e8f0;
      color: #4a5568;
  }

  .filter-actions .select-all-btn {
      background: #48bb78;
      color: white;
  }

  2. HTML (один фильтр-группа)

  <div class="filter-group">
      <div class="filter-label">Название фильтра</div>
      <div class="filter-dropdown">
          <button class="filter-btn" onclick="toggleFilter('myFilter')">
              <span>Все</span>
              <span class="count" id="myFilterCount">0</span>
          </button>
          <div class="filter-popup" id="myFilterPopup">
              <div class="filter-search">
                  <input type="text" placeholder="Поиск..." 
                         oninput="searchFilterOptions('myFilter', this.value)">
              </div>
              <div class="filter-options" id="myFilterOptions"></div>
              <div class="filter-actions">
                  <button class="select-all-btn" 
  onclick="selectAllFilter('myFilter')">Все</button>
                  <button class="clear-btn" 
  onclick="clearFilter('myFilter')">Сбросить</button>
                  <button class="apply-btn" onclick="applyFilters()">Применить</button>
              </div>
          </div>
      </div>
  </div>

  3. JavaScript

  // === Данные и состояние ===
  // Массив строк для каждого фильтра
  const filterData = {
      myFilter: ["Опция 1", "Опция 2", "Опция 3"]
  };

  // Выбранные значения (Set для каждого фильтра)
  const selectedFilters = {
      myFilter: new Set()
  };

  // === Инициализация ===
  document.addEventListener('DOMContentLoaded', function() {
      initFilterOptions('myFilter', filterData.myFilter);
  });

  function initFilterOptions(filterId, options) {
      const container = document.getElementById(filterId + 'Options');
      container.innerHTML = '';
      options.forEach((opt, idx) => {
          const div = document.createElement('div');
          div.className = 'filter-option';
          div.setAttribute('data-value', opt);
          div.innerHTML = '<input type="checkbox" id="' + filterId + '_' + idx + '">
  <label for="' + filterId + '_' + idx + '">' + opt + '</label>';
          div.onclick = function(e) {
              if (e.target.tagName !== 'INPUT') {
                  const cb = div.querySelector('input');
                  cb.checked = !cb.checked;
              }
          };
          container.appendChild(div);
      });
  }

  // === Открытие/закрытие popup ===
  function toggleFilter(filterId) {
      const popup = document.getElementById(filterId + 'Popup');
      const isActive = popup.classList.contains('active');
      // Закрыть все popup
      document.querySelectorAll('.filter-popup').forEach(p =>
  p.classList.remove('active'));
      if (!isActive) {
          popup.classList.add('active');
      }
  }

  // Закрытие по клику вне dropdown
  document.addEventListener('click', function(e) {
      if (!e.target.closest('.filter-dropdown')) {
          document.querySelectorAll('.filter-popup').forEach(p =>
  p.classList.remove('active'));
      }
  });

  // === Поиск внутри списка ===
  function searchFilterOptions(filterId, query) {
      const container = document.getElementById(filterId + 'Options');
      const options = container.querySelectorAll('.filter-option');
      const q = query.toLowerCase();
      options.forEach(opt => {
          const value = opt.getAttribute('data-value').toLowerCase();
          opt.classList.toggle('hidden', !value.includes(q));
      });
  }

  // === Сбросить все чекбоксы ===
  function clearFilter(filterId) {
      const container = document.getElementById(filterId + 'Options');
      container.querySelectorAll('input[type="checkbox"]').forEach(cb => cb.checked =
  false);
      selectedFilters[filterId].clear();
      updateFilterButton(filterId);
  }

  // === Выбрать все видимые ===
  function selectAllFilter(filterId) {
      const container = document.getElementById(filterId + 'Options');
      container.querySelectorAll('.filter-option:not(.hidden) input[type="checkbox"]')
          .forEach(cb => cb.checked = true);
  }

  // === Применить — собрать выбранные значения ===
  function applyFilters() {
      // Перебрать все ID фильтров
      Object.keys(selectedFilters).forEach(filterId => {
          selectedFilters[filterId].clear();
          const container = document.getElementById(filterId + 'Options');
          container.querySelectorAll('input[type="checkbox"]:checked').forEach(cb => {
              const opt = cb.closest('.filter-option');
              selectedFilters[filterId].add(opt.getAttribute('data-value'));
          });
          updateFilterButton(filterId);
      });
      // Закрыть popup
      document.querySelectorAll('.filter-popup').forEach(p =>
  p.classList.remove('active'));
      // Здесь вызвать вашу логику фильтрации
      // filterItems();
  }

  // === Обновить текст кнопки ===
  function updateFilterButton(filterId) {
      const count = selectedFilters[filterId].size;
      document.getElementById(filterId + 'Count').textContent = count;
      const btn = document.querySelector('#' + filterId +
  'Popup').previousElementSibling;
      const label = btn.querySelector('span:first-child');
      if (count === 0) {
          label.textContent = 'Все';
      } else if (count === 1) {
          label.textContent = Array.from(selectedFilters[filterId])[0].substring(0, 20)
  + '...';
      } else {
          label.textContent = 'Выбрано: ' + count;
      }
  }

  ---
  Как адаптировать

  1. Добавить ещё один фильтр — добавьте ключ в filterData и selectedFilters, скопируйте
   HTML-блок filter-group, поменяв myFilter на новый ID.
  2. Тёмный фон — CSS рассчитан на тёмный фон панели (.filter-btn с
  rgba(255,255,255,0.15)). Для светлого фона поменяйте цвета кнопки.
  3. Логика фильтрации — в applyFilters() после сбора значений вызывайте свою функцию.
  Выбранные значения доступны через selectedFilters['myFilter'] — это Set строк. Если
  size === 0, значит фильтр не активен (показывать всё).
  
- 3.1 для кранов с г/п: сейчас каждый кран с разной грузоподъемность/ пишется отдельной строкой. Для этих вариантов нужно сделать иерархию с развертываемым списком внутри выбора. Типо Автомобильный кран -> г/п 25, г/5 50 итд

- 4 отдалять карту каждый раз при изменении фильтров до базового масштаба

### Backend
- 1 - проверить формулы расчетов, почему иногда всплывают отрицательные значения? такого не должно быть
- 2 - Из "Заказчики.txt" поменять текущие числа в строке заказчика на соответствующие названия (front + back)
- 3 - поменять файл с зонами на новый файл "Только СМУ (1).geojson
- 4 - Сейчас названия зон обрезаются по первой запятой после СМУ, надо убрать это правило (department-unit)
  