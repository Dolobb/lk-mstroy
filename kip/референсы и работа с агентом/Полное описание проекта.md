### Цель - составить интерактивную карту для отображения выработки ТС за определенный период времени. На карте должны отображаться следующие данные:
- Местоположение ТС (визуально)
- Марка ТС + ГосНомер - выгружается через API, а также хранится в базе даных по КИП и нагрузке
- КИП (Коэффициент использования парка) и нагрузка - все расчетные данные и логика их расчета описаны ранее в "Описание таблицы.md"
- Заявки на работу - выгружается полностью через API
Пока это все данные которые присутствуют в проекте
### Архитектура финальной страницы
*ниже только фундамент и общее представление которое может меняться по мере разработки*
Референс можно посомтреть в "референс интерфейса.png". Объясняю:
1 блок (занимает около 15% страницы) - это фильтры, которые позволяют отфильтровать данные по дате, смене, организации и СМУ. Фильтры должны быть связаны между собой, то есть при выборе организации должны отображаться только СМУ этой организации и так далее. Также должен быть фильтр по типам ТС, который позволяет отфильтровать данные по типам ТС. Типы уже готовые и будут храниться в отдельном конфиге. Также фильтр должен позволять отображать только машины с определенныим КИПом и нагрузкой. Например, можно отобразить только машины с КИПом больше 80% и нагрузкой больше 70%.
2 блок (занимает около 70% страницы) - это интерактивная карта, на которой отображаются все ТС, которые соответствуют выбранным фильтрам. На карте должны отображаться только те ТС, которые находятся в геозоне объекта. При наведении на ТС должна отображаться карточка с информацией о ТС, которая включает в себя марку, госномер + КИП и нагрузку за 1 неделю.
3 блок (занимает около 15% страницы) -  блок #1 (сверху) это список заявок на работу, которые соответствуют выданной заявке в путевом листе. В списке должны отображаться только те заявки, которые относятся к ТС, выбранному на интерактивной карте. При клике на заявку должна открываться карточка с информацией о заявке, которая включает в себя дату и время заявки, вид работы, объект затрат и заявтиель к которому относится заявка. Блок #2 (снизу) это блок с детализацией по выбранному ТС, который отображает информацию о КИП и нагрузке по дням и по сменам
### Логика выгрузки всех данных
1. Получаем список нужных нам ТС с помощью отдельного файла (сейчас конкретно кранов). Данные о нужных нам ТС хранятся в таблице и включают в себя госномера машин, также мы парсим список заявок за определенное время и список путевых листов. На выходе получается таблица со всеми нужными нам данными. Логика парсера уже существует в другом проекте, дам тебе референс и логику
2. По каждой машине мы выгружаем данные из API -- getMonitoringStats. в нем содержатся данные для расчета КИП и нагрузки. Данные по каждой машине мы сохраняем в базу данных, чтобы не перегружать API при каждом запросе. Данные по каждой машине обновляются раз в день, так как данные по КИП и нагрузке за день уже не изменяются. (данные по заявкам и пл также из API)
3. При выгрузке мониторинга информацию по определенному алгоритму делим по дням и посменно
4. Считаем КИП по алгоритму,
5. на основании всех этих данных формируем интерактивную карту: на карте при отдаленном просмотре близкие друг к другу ТС собираются в группу - бабл, при нажатии на бабл происходит увеличение масштаба. Далее при масштабе равном объекту, при наведении на бабл появляются значки машин вместе с их госномером, при нажатии на тс всплывает краткая таблица с данными по КИПу и нагрузке за неделю. При клике на эту таблицу открывается более подробная информация по КИПу и нагрузке по дням и сменам. Также при клике на ТС открывается блок с заявками на работу, которые относятся к этому ТС. При клике на заявку открывается карточка с информацией о заявке. Так как у нас есть третий блок с детализацией по КИПу и нагрузке, то при клике на ТС в этом блоке отображается информация по КИПу и нагрузке по дням и сменам. Также в этом блоке отображается график по КИПу и нагрузке за неделю, который позволяет увидеть динамику изменения этих показателей. На карте отображается "КИП за наделю / выбранный период", а в третьем блоке более подробная информация всплывает при нажатии, при наведении ниче не меняется

### Технологии
- Фронтенд: React + TypeScript + Leaflet (для карты) + Material-UI (для UI компонентов)
- Бэкенд: Node.js + Express (для API) + PostgreSQL (для базы данных)
- Визуализация данных: D3.js (для графиков и диаграмм)
- Система контроля версий: Git + GitHub
- Развертывание: Docker + Kubernetes (для контейнеризации и оркестрации)

# План разработки
1. **Настройка проекта**: Инициализация репозитория, настройка -- мне нужно чтоб ты продумал структуру репозитория, создание базовых компонентов и страниц.
2. **Разработка API**: Создание эндпоинтов для получения данных о ТС, заявках и путевых листах. Реализация логики получения данных из внешнего API и сохранения их в базу данных. -- большую часть логики реализации возьмем из существующего проекта, я дам тебе референс и логику, нужно будет адаптировать под текущий проект
3. **Разработка фронтенда**: Создание компонентов для фильтров, интерактивной карты и блоков с детализацией. Реализация логики отображения данных на карте и взаимодействия с пользователем.
4. **Тестирование**: Написание юнит-тестов для компонентов и API, проведение интеграционного тестирования.
5. **Развертывание**: Настройка Docker и Kubernetes для развертывания приложения на сервере.
6. **Документация**: Создание документации по использованию приложения, описанию API и архитектуре проекта.