# –†–∞—Å—á–µ—Ç–Ω—ã–π –ø–ª–∞–Ω - –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –ª–æ–≥–∏–∫–∏

## –î–∞—Ç–∞: 05.02.2026

---

## üìã –ó–∞–¥–∞—á–∞

–ò—Å–ø—Ä–∞–≤–∏—Ç—å –≤–∫–ª–∞–¥–∫—É "–†–∞—Å—á–µ—Ç–Ω—ã–π –ø–ª–∞–Ω" –≤ HTML-–æ—Ç—á–µ—Ç–∞—Ö, —á—Ç–æ–±—ã —Ä–∞—Å—á–µ—Ç—ã —Ä–∞–±–æ—Ç–∞–ª–∏ –≤—Å–µ–≥–¥–∞ –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —É—á–∏—Ç—ã–≤–∞–ª–∏:
1. –î–ª–∏–Ω–Ω—ã–µ —Ä–µ–π—Å—ã (–∫–æ–≥–¥–∞ –≤—Ä–µ–º—è —Ä–µ–π—Å–∞ > —Ä–∞–±–æ—á–∏—Ö —á–∞—Å–æ–≤ –≤ –¥–µ–Ω—å)
2. –ù–æ—á–Ω—ã–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –¥–µ–Ω—å
3. –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (–¥–∞–∂–µ –µ—Å–ª–∏ 64 –º–∞—à–∏–Ω—ã –¥–µ–ª–∞—é—Ç 64 —Ä–µ–π—Å–∞)

---

## üîç –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∫–æ–¥–æ–≤–æ–π –±–∞–∑—ã

### –ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –∫–æ–¥
- **–§–∞–π–ª:** `src/output/html_generator.py`
- **JavaScript —Ñ—É–Ω–∫—Ü–∏—è:** `updateCalcPlan()` (—Å—Ç—Ä–æ–∫–∞ 1838-1871)
- **JavaScript —Ñ—É–Ω–∫—Ü–∏—è:** `calculateEndDate()` (—Å—Ç—Ä–æ–∫–∞ 1894-1930)
- **HTML —Å–µ–∫—Ü–∏—è:** "–†–∞—Å—á–µ—Ç–Ω—ã–π –ø–ª–∞–Ω" (—Å—Ç—Ä–æ–∫–∞ 2865-2940)

### –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö
- `route_start_date` - –∏–∑ –∑–∞—è–≤–∫–∏ (—Ñ–æ—Ä–º–∞—Ç DD.MM.YYYY)
- `route_distance` - —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –≤ –º–µ—Ç—Ä–∞—Ö (–∏–∑ –∑–∞—è–≤–∫–∏)
- `order_count_ts` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∞—à–∏–Ω (–∏–∑ –∑–∞—è–≤–∫–∏)
- `order_cnt_trip` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–π—Å–æ–≤ (–∏–∑ –∑–∞—è–≤–∫–∏)

---

## ‚ùå –¢–µ–∫—É—â–∞—è –ª–æ–≥–∏–∫–∞ (–ù–ï–ü–†–ê–í–ò–õ–¨–ù–ê–Ø)

### –ê–ª–≥–æ—Ä–∏—Ç–º:
```javascript
// –®–∞–≥ 1: –†–µ–π—Å–æ–≤ –Ω–∞ –º–∞—à–∏–Ω—É
tripsPerTs = Math.ceil(totalTrips / totalVehicles)

// –®–∞–≥ 2: –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ —Ç—É–¥–∞-–æ–±—Ä–∞—Ç–Ω–æ
roundDist = distanceOneWay √ó 2

// –®–∞–≥ 3: –í—Ä–µ–º—è —Ä–µ–π—Å–∞
travelTime = roundDist / speed
tripTime = travelTime + loadTime

// –®–∞–≥ 4: –†–µ–π—Å–æ–≤ –≤ –¥–µ–Ω—å
tripsPerDay = Math.floor(workHours / tripTime)

// –®–∞–≥ 5: –î–Ω–µ–π –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
daysNeeded = Math.ceil(tripsPerTs / tripsPerDay)
```

### –ü—Ä–æ–±–ª–µ–º—ã:

1. **–†–∞—Å—á–µ—Ç –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏**
   - `updateCalcPlan()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ "–†–∞—Å—á–µ—Ç–Ω—ã–π –ø–ª–∞–Ω"
   - –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤—Å–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ—Å—Ç–∞—é—Ç—Å—è "‚Äî"

2. **–î–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–æ–ª—å**
   - –ï—Å–ª–∏ `tripTime > workHours`, —Ç–æ `tripsPerDay = 0`
   - –¢–æ–≥–¥–∞ `daysNeeded = ceil(X / 0) = 999`
   - –î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –Ω–µ –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "‚Äî")

3. **–ù–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç –Ω–æ—á–Ω—ã–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏**
   - –ï—Å–ª–∏ —Ä–µ–π—Å –∑–∞–Ω–∏–º–∞–µ—Ç 16 —á–∞—Å–æ–≤, –∞ —Ä–∞–±–æ—á–∏–π –¥–µ–Ω—å 11 —á–∞—Å–æ–≤
   - –í–æ–¥–∏—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è –Ω–∞ –Ω–æ—á—å –∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —É—Ç—Ä–æ–º
   - –¢–µ–∫—É—â–∞—è –ª–æ–≥–∏–∫–∞ –ø—Ä–æ—Å—Ç–æ –≥–æ–≤–æ—Ä–∏—Ç "–Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ" (tripsPerDay = 0)

---

## ‚úÖ –ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ (–ü–†–ê–í–ò–õ–¨–ù–ê–Ø)

### –ö–ª—é—á–µ–≤–∞—è –∏–¥–µ—è:
> –°–Ω–∞—á–∞–ª–∞ —Å—á–∏—Ç–∞–µ–º —Å–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–Ω–∏–º–∞–µ—Ç –û–î–ò–ù —Ä–µ–π—Å, –∑–∞—Ç–µ–º —É–º–Ω–æ–∂–∞–µ–º –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–π—Å–æ–≤ –¥–ª—è –º–∞—à–∏–Ω—ã.

### –ê–ª–≥–æ—Ä–∏—Ç–º:

```javascript
// –®–∞–≥ 1: –†–µ–π—Å–æ–≤ –Ω–∞ –æ–¥–Ω—É –º–∞—à–∏–Ω—É
tripsPerVehicle = Math.ceil(totalTrips / totalVehicles)

// –®–∞–≥ 2: –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ —Ç—É–¥–∞-–æ–±—Ä–∞—Ç–Ω–æ
roundDist = distanceOneWay √ó 2

// –®–∞–≥ 3: –í—Ä–µ–º—è —Ä–µ–π—Å–∞
travelTime = roundDist / speed
tripTime = travelTime + loadTime

// –®–∞–≥ 4: –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø —Ä–µ–π—Å–∞
if (tripTime <= workHours) {
    // –ö–æ—Ä–æ—Ç–∫–∏–µ —Ä–µ–π—Å—ã - –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤ –¥–µ–Ω—å
    tripsPerDay = Math.floor(workHours / tripTime)
} else {
    // –î–ª–∏–Ω–Ω—ã–µ —Ä–µ–π—Å—ã - –º–µ–Ω—å—à–µ –æ–¥–Ω–æ–≥–æ –≤ –¥–µ–Ω—å
    tripsPerDay = workHours / tripTime  // –Ω–∞–ø—Ä–∏–º–µ—Ä: 0.69
}

// –®–∞–≥ 5: –î–Ω–µ–π –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
if (tripsPerVehicle === 1) {
    // –ú–∏–Ω–∏–º—É–º - –æ–¥–∏–Ω —Ä–µ–π—Å (–¥–∞–∂–µ –µ—Å–ª–∏ 64 –º–∞—à–∏–Ω—ã / 64 —Ä–µ–π—Å–∞)
    daysNeeded = Math.ceil(tripTime / workHours)

} else if (tripTime <= workHours) {
    // –ú–Ω–æ–≥–æ –∫–æ—Ä–æ—Ç–∫–∏—Ö —Ä–µ–π—Å–æ–≤
    daysNeeded = Math.ceil(tripsPerVehicle / tripsPerDay)

} else {
    // –ú–Ω–æ–≥–æ –¥–ª–∏–Ω–Ω—ã—Ö —Ä–µ–π—Å–æ–≤
    daysPerTrip = Math.ceil(tripTime / workHours)
    daysNeeded = tripsPerVehicle √ó daysPerTrip
}
```

---

## üìä –ü—Ä–∏–º–µ—Ä—ã —Ä–∞—Å—á–µ—Ç–æ–≤

### –ü—Ä–∏–º–µ—Ä 1: –ö–æ—Ä–æ—Ç–∫–∏–µ —Ä–µ–π—Å—ã (–Ω–µ—Å–∫–æ–ª—å–∫–æ –≤ –¥–µ–Ω—å)
**–î–∞–Ω–Ω—ã–µ:**
- 1 –º–∞—à–∏–Ω–∞, 8 —Ä–µ–π—Å–æ–≤
- –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ: 15 –∫–º (–≤ –æ–¥–Ω—É —Å—Ç–æ—Ä–æ–Ω—É)
- –°–∫–æ—Ä–æ—Å—Ç—å: 65 –∫–º/—á, –ø–æ–≥—Ä—É–∑–∫–∞: 1.5 —á
- –†–∞–±. —á–∞—Å–æ–≤: 11 —á/–¥–µ–Ω—å

**–†–∞—Å—á–µ—Ç:**
```
tripTime = (15√ó2)/65 + 1.5 = 2.0 —á
tripsPerDay = floor(11 / 2.0) = 5 —Ä–µ–π—Å–æ–≤/–¥–µ–Ω—å
daysNeeded = ceil(8 / 5) = 2 –¥–Ω—è
```
‚úÖ **–†–µ–∑—É–ª—å—Ç–∞—Ç:** 2 –¥–Ω—è

---

### –ü—Ä–∏–º–µ—Ä 2: –î–ª–∏–Ω–Ω—ã–µ —Ä–µ–π—Å—ã (–æ–¥–∏–Ω –∑–∞–Ω–∏–º–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–Ω–µ–π)
**–î–∞–Ω–Ω—ã–µ:**
- 1 –º–∞—à–∏–Ω–∞, 8 —Ä–µ–π—Å–æ–≤
- –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ: 500 –∫–º (–≤ –æ–¥–Ω—É —Å—Ç–æ—Ä–æ–Ω—É)
- –°–∫–æ—Ä–æ—Å—Ç—å: 65 –∫–º/—á, –ø–æ–≥—Ä—É–∑–∫–∞: 1.5 —á
- –†–∞–±. —á–∞—Å–æ–≤: 11 —á/–¥–µ–Ω—å

**–†–∞—Å—á–µ—Ç:**
```
tripTime = (500√ó2)/65 + 1.5 = 16.9 —á
daysPerTrip = ceil(16.9 / 11) = 2 –¥–Ω—è –Ω–∞ —Ä–µ–π—Å
daysNeeded = 8 √ó 2 = 16 –¥–Ω–µ–π
```
‚úÖ **–†–µ–∑—É–ª—å—Ç–∞—Ç:** 16 –¥–Ω–µ–π

**–õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã –≤–æ–¥–∏—Ç–µ–ª—è:**
- –î–µ–Ω—å 1: 06:00-17:00 (11—á) ‚Üí –ø—Ä–æ–µ—Ö–∞–ª —á–∞—Å—Ç—å –ø—É—Ç–∏
- –ù–æ—á—å: –û–¢–î–´–•
- –î–µ–Ω—å 2: 06:00-11:54 (5.9—á) ‚Üí –∑–∞–≤–µ—Ä—à–∏–ª —Ä–µ–π—Å 1
- –î–µ–Ω—å 2: 11:54-17:00 (5.1—á) ‚Üí –Ω–∞—á–∞–ª —Ä–µ–π—Å 2
- ...–∏ —Ç–∞–∫ –¥–∞–ª–µ–µ

---

### –ü—Ä–∏–º–µ—Ä 3: –ú–Ω–æ–≥–æ –º–∞—à–∏–Ω (–º–∏–Ω–∏–º—É–º 1 —Ä–µ–π—Å –Ω–∞ –º–∞—à–∏–Ω—É)
**–î–∞–Ω–Ω—ã–µ:**
- 64 –º–∞—à–∏–Ω—ã, 64 —Ä–µ–π—Å–∞
- –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ: 500 –∫–º (–≤ –æ–¥–Ω—É —Å—Ç–æ—Ä–æ–Ω—É)
- –°–∫–æ—Ä–æ—Å—Ç—å: 65 –∫–º/—á, –ø–æ–≥—Ä—É–∑–∫–∞: 1.5 —á
- –†–∞–±. —á–∞—Å–æ–≤: 11 —á/–¥–µ–Ω—å

**–†–∞—Å—á–µ—Ç:**
```
tripsPerVehicle = ceil(64 / 64) = 1 —Ä–µ–π—Å –Ω–∞ –º–∞—à–∏–Ω—É
tripTime = 16.9 —á
daysNeeded = ceil(16.9 / 11) = 2 –¥–Ω—è
```
‚úÖ **–†–µ–∑—É–ª—å—Ç–∞—Ç:** 2 –¥–Ω—è (–º–∏–Ω–∏–º—É–º)

---

### –ü—Ä–∏–º–µ—Ä 4: –û–¥–∏–Ω –¥–ª–∏–Ω–Ω—ã–π —Ä–µ–π—Å (edge case)
**–î–∞–Ω–Ω—ã–µ:**
- 1 –º–∞—à–∏–Ω–∞, 1 —Ä–µ–π—Å
- –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ: 500 –∫–º (–≤ –æ–¥–Ω—É —Å—Ç–æ—Ä–æ–Ω—É)
- –°–∫–æ—Ä–æ—Å—Ç—å: 65 –∫–º/—á, –ø–æ–≥—Ä—É–∑–∫–∞: 1.5 —á
- –†–∞–±. —á–∞—Å–æ–≤: 11 —á/–¥–µ–Ω—å

**–†–∞—Å—á–µ—Ç:**
```
tripsPerVehicle = 1
tripTime = 16.9 —á
daysNeeded = ceil(16.9 / 11) = 2 –¥–Ω—è
```
‚úÖ **–†–µ–∑—É–ª—å—Ç–∞—Ç:** 2 –¥–Ω—è

---

## üß™ –¢–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª

**–§–∞–π–ª:** `Data/final/test_calc_plan.html`

### –§—É–Ω–∫—Ü–∏–∏:
- ‚úÖ –í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º—ã–µ (–º–∞—à–∏–Ω—ã, —Ä–µ–π—Å—ã, —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Å—á–µ—Ç –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏
- ‚úÖ –ü–æ—à–∞–≥–æ–≤—ã–π —Ä–∞—Å—á–µ—Ç —Å —Ñ–æ—Ä–º—É–ª–∞–º–∏
- ‚úÖ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–ª–∞–Ω vs —Ñ–∞–∫—Ç
- ‚úÖ –ë—ã—Å—Ç—Ä—ã–µ –ø—Ä–µ—Å–µ—Ç—ã:
  - üì¶ –ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (1 –º–∞—à–∏–Ω–∞, 62 —Ä–µ–π—Å–∞, 24.69 –∫–º)
  - üöó –ö–æ—Ä–æ—Ç–∫–∏–µ —Ä–µ–π—Å—ã (1 –º–∞—à–∏–Ω–∞, 8 —Ä–µ–π—Å–æ–≤, 15 –∫–º)
  - üöõ –î–ª–∏–Ω–Ω—ã–µ —Ä–µ–π—Å—ã (1 –º–∞—à–∏–Ω–∞, 8 —Ä–µ–π—Å–æ–≤, 500 –∫–º)
  - üöö –ú–Ω–æ–≥–æ –º–∞—à–∏–Ω (64 –º–∞—à–∏–Ω—ã, 64 —Ä–µ–π—Å–∞, 500 –∫–º)
  - üìç –ú–∞–ª–æ —Ä–µ–π—Å–æ–≤ (1 –º–∞—à–∏–Ω–∞, 1 —Ä–µ–π—Å, 500 –∫–º)

---

## üîß –ß—Ç–æ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –≤ –∫–æ–¥–µ

### –§–∞–π–ª: `src/output/html_generator.py`

#### 1. –§—É–Ω–∫—Ü–∏—è `updateCalcPlan()` (—Å—Ç—Ä–æ–∫–∞ 1838)

**–°—Ç–∞—Ä—ã–π –∫–æ–¥:**
```javascript
const tripsPerDay = Math.floor(workHours / tripTime);
const daysNeeded = tripsPerDay > 0 ? Math.ceil(tripsPerTs / tripsPerDay) : 999;
```

**–ù–æ–≤—ã–π –∫–æ–¥:**
```javascript
let tripsPerDay, daysNeeded;

if (tripTime <= workHours) {
    // –ö–æ—Ä–æ—Ç–∫–∏–µ —Ä–µ–π—Å—ã
    tripsPerDay = Math.floor(workHours / tripTime);

    if (tripsPerTs === 1) {
        daysNeeded = Math.ceil(tripTime / workHours);
    } else {
        daysNeeded = Math.ceil(tripsPerTs / tripsPerDay);
    }
} else {
    // –î–ª–∏–Ω–Ω—ã–µ —Ä–µ–π—Å—ã
    tripsPerDay = workHours / tripTime;
    const daysPerTrip = Math.ceil(tripTime / workHours);

    if (tripsPerTs === 1) {
        daysNeeded = daysPerTrip;
    } else {
        daysNeeded = tripsPerTs * daysPerTrip;
    }
}
```

#### 2. –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ "–†–µ–π—Å–æ–≤ –≤ –¥–µ–Ω—å"

**–°—Ç–∞—Ä—ã–π –∫–æ–¥:**
```javascript
document.getElementById('calc-res-trips-per-day-' + reqNum).textContent =
    tripsPerDay > 0 ? tripsPerDay : '< 1';
```

**–ù–æ–≤—ã–π –∫–æ–¥:**
```javascript
const tripsPerDayText = tripTime <= workHours
    ? tripsPerDay.toString()
    : tripsPerDay.toFixed(2) + ' (< 1)';

document.getElementById('calc-res-trips-per-day-' + reqNum).textContent = tripsPerDayText;
```

#### 3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–∑–æ–≤ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ

**–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ–Ω–µ—Ü JavaScript:**
```javascript
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ä–∞—Å—á–µ—Ç –¥–ª—è –≤—Å–µ—Ö –∑–∞—è–≤–æ–∫ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
document.addEventListener('DOMContentLoaded', function() {
    // –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ request numbers –∏–∑ DOM
    const calcSections = document.querySelectorAll('[id^="calc-body-"]');
    calcSections.forEach(section => {
        const reqNum = section.id.replace('calc-body-', '');
        // –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ä–∞—Å—á–µ—Ç —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —Å–µ–∫—Ü–∏—è —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–∞
        // –ò–õ–ò –≤—Å–µ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞—Ç—å –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
        updateCalcPlan(reqNum);
    });
});
```

---

## üìà –ù–æ–≤—ã–µ —Ä–∞—Å—á–µ—Ç—ã –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è

### –î–ª—è –æ–¥–Ω–æ–π –º–∞—à–∏–Ω—ã:

1. **–†–∞—Å—á–µ—Ç–Ω–æ–µ –ø—Ä–æ–π–¥–µ–Ω–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ:**
   ```javascript
   totalPlannedDistance = roundDist √ó tripsPerVehicle
   ```

2. **–§–∞–∫—Ç–∏—á–µ—Å–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ —Ä–µ–π—Å–æ–≤:**
   ```javascript
   actualTrips = mon_distance / roundDist
   ```

3. **% –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**
   ```javascript
   completionPercent = (mon_distance / totalPlannedDistance) √ó 100
   ```

4. **–°–∫–æ–ª—å–∫–æ % –æ—Ç –æ–¥–Ω–æ–≥–æ —Ä–µ–π—Å–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ:**
   ```javascript
   oneTrip Progress = (mon_distance % roundDist) / roundDist √ó 100
   ```

---

## üéØ –ë—É–¥—É—â–∞—è –∑–∞–¥–∞—á–∞: –í–∫–ª–∞–¥–∫–∞ "–†–µ–∂–∏–º —Ç—Ä—É–¥–∞ –∏ –æ—Ç–¥—ã—Ö–∞"

### –î–∞–Ω–Ω—ã–µ —É–∂–µ –µ—Å—Ç—å –≤ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–µ:
- `mon_parkings` - –ø–∞—Ä–∫–æ–≤–∫–∏ —Å –∞–¥—Ä–µ—Å–∞–º–∏ –∏ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é
- `mon_moving_time_hours` - –≤—Ä–µ–º—è –≤ –¥–≤–∏–∂–µ–Ω–∏–∏
- `mon_engine_time_hours` - –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã –¥–≤–∏–≥–∞—Ç–µ–ª—è
- `mon_idling_time_hours` - –≤—Ä–µ–º—è –ø—Ä–æ—Å—Ç–æ—è

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã:
```
–í—ã–µ–∑–¥ ‚Üí –ü–æ–≥—Ä—É–∑–∫–∞ ‚Üí –í –¥–≤–∏–∂–µ–Ω–∏–∏ ‚Üí –û—Ç–¥—ã—Ö ‚Üí –í –¥–≤–∏–∂–µ–Ω–∏–∏ ‚Üí –°–æ–Ω ‚Üí ...
```

–õ–æ–≥–∏–∫–∞ –±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∞—Å—á–µ—Ç–Ω–æ–≥–æ –ø–ª–∞–Ω–∞.

---

## üìù –ó–∞–º–µ—Ç–∫–∏

- –¢–µ–∫—É—â–∞—è –ª–æ–≥–∏–∫–∞ —Ä–∞—Å—á–µ—Ç–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Å—Ç—Ä–æ–∫–∞—Ö 1838-1930 —Ñ–∞–π–ª–∞ `html_generator.py`
- –¢–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤—Å–µ edge cases
- –í—Å–µ —Ä–∞—Å—á–µ—Ç—ã –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –≤ —Ç–µ—Å—Ç–æ–≤–æ–º —Ñ–∞–π–ª–µ
- –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ª–æ–≥–∏–∫–∏ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:
  - –ö–æ—Ä–æ—Ç–∫–∏–µ —Ä–µ–π—Å—ã (< 11 —á–∞—Å–æ–≤)
  - –î–ª–∏–Ω–Ω—ã–µ —Ä–µ–π—Å—ã (> 11 —á–∞—Å–æ–≤)
  - –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Å–ª—É—á–∞–π (64 –º–∞—à–∏–Ω—ã / 64 —Ä–µ–π—Å–∞)
  - Edge case (1 –º–∞—à–∏–Ω–∞ / 1 –¥–ª–∏–Ω–Ω—ã–π —Ä–µ–π—Å)

---

## ‚úÖ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ –°–æ–∑–¥–∞–Ω —Ç–µ—Å—Ç–æ–≤—ã–π HTML —Ñ–∞–π–ª —Å –Ω–æ–≤–æ–π –ª–æ–≥–∏–∫–æ–π
2. ‚è≥ –ò–∑–º–µ–Ω–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `updateCalcPlan()` –≤ `html_generator.py`
3. ‚è≥ –î–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–∑–æ–≤ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
4. ‚è≥ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
5. ‚è≥ –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —Ä–∞—Å—á–µ—Ç—ã (% –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ —Ä–µ–π—Å–æ–≤)
6. ‚è≥ –†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å –≤–∫–ª–∞–¥–∫—É "–†–µ–∂–∏–º —Ç—Ä—É–¥–∞ –∏ –æ—Ç–¥—ã—Ö–∞"

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 05.02.2026
**–ê–≤—Ç–æ—Ä –¥–∏–∞–ª–æ–≥–∞:** Claude Sonnet 4.5
**–¢–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª:** `/Users/max/Documents/Mstroy/TransportAnalytics/Data/final/test_calc_plan.html`
